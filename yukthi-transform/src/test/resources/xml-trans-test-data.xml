<test-data xmlns:r="/fw/ccg/XMLBeanParser">
	<r:exprPattern enabled="false"/>
	
	<disableByDefault>false</disableByDefault>
	
	<jel-test-bean name="conditionBasedRemovalInMap">
		<context><![CDATA[
			<libraries>
				<Justbooks open="true"/>
				<Imagine open="false"/>
			</libraries>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<Justbooks t:condition="toBoolean(libraries.Justbooks.open)">
					<desc>Library is open</desc>
				</Justbooks>
				<Imagine t:condition="toBoolean(libraries.Imagine.open)">
					<desc>Library is open</desc>
				</Imagine>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<Justbooks>
					<desc>Library is open</desc>
				</Justbooks>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="exprInKey">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true"/>
				<Imagine name="Imagine" open="false"/>
			</libraries>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<Justbooks t:name="Justbooks-${libraries.Justbooks.open}" status="${libraries.Justbooks.open}"/>
				<Imagine t:name="@fmarker: mapValues(libraries)[1].name">
					<status>${libraries.Imagine.open}</status>
				</Imagine>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<Justbooks-true status="true"/>
				<Imagine>
					<status>false</status>
				</Imagine>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="conditionBasedRemovalInList">
		<context><![CDATA[
			<libraries>
				<Justbooks open="true">
					<books title="Davinci Code" author="Dan Brown" type="Science Fiction" copyCount="3"/>
					<books title="Sphere" author="Michel Crihton" type="Science Fiction" copyCount="0"/>
				</Justbooks>
				<Imagine open="false">
					<books title="Shiva Triology" author="Amit Shah" type="Mythology Fiction" copyCount="10"/>
					<books title="Dark Psychology" author="Xyz" type="Psychology" copyCount="1"/>
				</Imagine>
			</libraries>
		]]></context>
		
		<template><![CDATA[
			<output xmlns:t="/transform">
				<emptyList/>
				
				<listWithNoString>100</listWithNoString>
				<listWithNoString>200</listWithNoString>
				
				<listWithNoCond>@fmarker: sizeOf(libraries.Justbooks.books)</listWithNoCond>
				<listWithNoCond>20</listWithNoCond>
				
				<listWithPositiveConds t:condition="toBoolean(libraries.Justbooks.open)">
					<listWithPositiveCond>1000</listWithPositiveCond>
					<listWithPositiveCond a="b"></listWithPositiveCond>
				</listWithPositiveConds>
				
				<listWithNegativeConds t:condition="toBoolean(libraries.Imagine.open)">
					<listWithNegativeCond>1000</listWithNegativeCond>
					<listWithNegativeCond a="b"></listWithNegativeCond>
				</listWithNegativeConds>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<emptyList/>
				
				<listWithNoString>100</listWithNoString>
				<listWithNoString>200</listWithNoString>
				
				<listWithNoCond>2</listWithNoCond>
				<listWithNoCond>20</listWithNoCond>
				
				<listWithPositiveConds>
					<listWithPositiveCond>1000</listWithPositiveCond>
					<listWithPositiveCond a="b"></listWithPositiveCond>
				</listWithPositiveConds>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="valueKey">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true"/>
				<Imagine name="Imagine" open="false"/>
			</libraries>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<mapWithString t:condition="toBoolean(libraries.Justbooks.open)" t:value="Enabled" extraParam="1"/>
				<mapWithNonString t:condition="toBoolean(libraries.Justbooks.open)" t:value="100" extraParam="1"/>
				<list>
					<value t:condition="toBoolean(libraries.Justbooks.open)" t:value="@fmarker: libraries.Justbooks.name" extraParam="1"/>
					<value>100</value>
				</list>
				<prodStack t:condition="toBoolean(libraries.Imagine.open)" t:value="Enabled"/>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<mapWithString>Enabled</mapWithString>
				<mapWithNonString>100</mapWithNonString>
				
				<list>
					<value>Justbooks</value>
					<value>100</value>
				</list>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="conditionBasedRemovalInList">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true"/>
				<Imagine name="Imagine" open="false"/>
			</libraries>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<elem t:condition="toBoolean(libraries.Justbooks.open)" desc="Just books is open"/>
				<elem t:condition="toBoolean(libraries.Imagine.open)" desc="Just books is open"/>
				<elem desc="This is a extra lib"/>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<elem desc="Just books is open"/>
				<elem desc="This is a extra lib"/>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="loopAndExpressions">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true">
					<books title="Davinci Code" author="Dan Brown" type="Science Fiction" copyCount="3"/>
					<books title="Sphere" author="Michel Crihton" type="Science Fiction" copyCount="0"/>
				</Justbooks>
				<Imagine name="Imagine" open="false">
					<books title="Shiva Triology" author="Amit Shah" type="Mythology Fiction" copyCount="10"/>
					<books title="Let Us C" author="Yeshwant Kanetkar" type="Technology" copyCount="0"/>
					<books title="Dark Psychology" author="Xyz" type="Psychology" copyCount="1"/>
				</Imagine>
			</libraries>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<bookName t:value="@xpathMulti: /libraries/Justbooks/books//title"/>
				<copyCount t:value="@xpath: /libraries/Justbooks/books[1]/copyCount"/>
				
				<allDocCounts t:value="@fmarker: sizeOf(libraries.Justbooks.books)"/>
				<allDocCounts t:value="@fmarker: sizeOf(libraries.Imagine.books)"/>
				
				<Justbooks t:for-each="libraries.Justbooks.books" t:loop-var="book" name="${book.title}">
					<desc>Type: ${book.type}, author: ${book.author}</desc>
				</Justbooks>
				
				<Imagine t:for-each="libraries.Imagine.books" t:loop-var="book" name="${book.title}">
					<desc>Type: ${book.type}, author: ${book.author}</desc>
				</Imagine>
			</output>
		]]></template>

		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<bookName>Davinci Code</bookName>
				<bookName>Sphere</bookName>
				
				<copyCount>3</copyCount>
				
				<allDocCounts>2</allDocCounts>
				<allDocCounts>3</allDocCounts>
				
				<Justbooks name="Davinci Code">
					<desc>Type: Science Fiction, author: Dan Brown</desc>
				</Justbooks>
				<Justbooks name="Sphere">
					<desc>Type: Science Fiction, author: Michel Crihton</desc>
				</Justbooks>

				<Imagine name="Shiva Triology">
					<desc>Type: Mythology Fiction, author: Amit Shah</desc>
				</Imagine>
				<Imagine name="Let Us C">
				    <desc>Type: Technology, author: Yeshwant Kanetkar</desc>
				</Imagine>
				<Imagine name="Dark Psychology">
					<desc>Type: Psychology, author: Xyz</desc>
				</Imagine>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="loopForMaps">
		<context><![CDATA[
			<libraries>
				<Justbooks open="true">
					<books title="Davinci-Code" author="Dan Brown" type="Science Fiction" copyCount="3"/>
					<books title="Sphere" author="Michel Crihton" type="Science Fiction" copyCount="0"/>
				</Justbooks>
				<Imagine open="false">
					<books title="Shiva-Triology" author="Amit Shah" type="Mythology Fiction" copyCount="10"/>
					<books title="Let-Us-C" author="Yeshwant Kanetkar" type="Technology" copyCount="0"/>
					<books title="Dark-Psychology" author="Xyz" type="Psychology" copyCount="1"/>
				</Imagine>
			</libraries>
		]]></context>
		
		<template><![CDATA[
			<output xmlns:t="/transform">
				<Justbooks>
					<book t:name="${book.title}" t:for-each="libraries.Justbooks.books" t:loop-var="book">
						<copyCount>@fmarker: book.copyCount</copyCount>
					</book>
				</Justbooks>
				
				<Imagine>
					<book t:name="${book.title}" t:for-each="libraries.Imagine.books"  t:loop-var="book" t:for-each-condition="toInt(book.copyCount) gt 0">
						<copyCount>@fmarker: book.copyCount</copyCount>
					</book>
				</Imagine>
			</output>
		]]></template>

		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<Justbooks>
					<Davinci-Code>
						<copyCount>3</copyCount>
					</Davinci-Code>
					<Sphere>
						<copyCount>0</copyCount>
					</Sphere>
				</Justbooks>
				<Imagine>
					<Shiva-Triology>
						<copyCount>10</copyCount>
					</Shiva-Triology>
					<Dark-Psychology>
						<copyCount>1</copyCount>
					</Dark-Psychology>
				</Imagine>
			</output>
		]]></expectedResult>
	</jel-test-bean>
	
	<jel-test-bean name="nullAndEmptyListRefInLoop">
		<context><![CDATA[
			<data>
				<single-list>1</single-list>
				
				<some-list>1</some-list>
				<some-list>2</some-list>
				<some-list>3</some-list>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<missing-list>
					<val t:for-each="data.missingList" t:loop-var="val">${val}</val>
				</missing-list>
				<single-list>
					<val t:for-each="data.singleList" t:loop-var="val">${val}</val>
				</single-list>
				<some-list>
					<val t:for-each="data.someList" t:loop-var="val">${val}</val>
				</some-list>
			</output>
		]]></template>
		
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<missing-list>
				</missing-list>
				<single-list>
					<val>1</val>
				</single-list>
				<some-list>
					<val>1</val>
					<val>2</val>
					<val>3</val>
				</some-list>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="setExpressions">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true">
					<books title="Davinci-Code" author="Dan Brown" type="Science Fiction" copyCount="3"/>
					<books title="Sphere" author="Michel Crihton" type="Science Fiction" copyCount="0"/>
				</Justbooks>
				<Imagine name="Imagine" open="false">
					<books title="Shiva-Triology" author="Amit Shah" type="Mythology Fiction" copyCount="10"/>
					<books title="Let-Us-C" author="Yeshwant Kanetkar" type="Technology" copyCount="0"/>
					<books title="Dark-Psychology" author="Xyz" type="Psychology" copyCount="1"/>
				</Imagine>
			</libraries>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<t:set name="secondLib">@xpath: /libraries/Imagine/name</t:set>
				
				<map>
					<key1>val1</key1>
					<t:set name="libJb">
						<bookNames t:value="@xpathMulti: /libraries/Justbooks/books//title"/>
					</t:set>
					<key2>@fmarker: libraries.Imagine.books[1].title</key2>
				</map>
				
				<library>@fmarker: secondLib</library>
				<names t:value="@fmarker: libJb.bookNames" />
			</output>
		]]></template>

		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<map>
					<key1>val1</key1>
					<key2>Let-Us-C</key2>
				</map>
				
				<library>Imagine</library>
				
				<names>Davinci-Code</names>
				<names>Sphere</names>
			</output>
		]]></expectedResult>
	</jel-test-bean>
	
	<!--   =============================================================  -->

	<!--
	<jel-test-bean name="jsonExpressions" enabled="true">
		<context><![CDATA[
			<libraries>
				<Justbooks name="Justbooks" open="true"/>
				<Imagine name="Imagine" open="false"/>
				<testLib/>
			</libraries>
		]]></context>
		
		<template><![CDATA[
			<output xmlns:t="/transform">
				<result t:transform="@fmarker: toJson(thisValue)">
					<someVal>1</someVal>
					<libNames t:value="@xpathMulti: /libraries/Justbooks//name"/>
				</result>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<result>{"someVal":1,"libNames":["Justbooks"]}</result>
			</output>
		]]></expectedResult>
	</jel-test-bean>
	-->

	<jel-test-bean name="resLoadingWithExpr">
		<context><![CDATA[
			<ckey1>cval</ckey1>
		]]></context>
		
		<template><![CDATA[
			<output xmlns:t="/transform">
				<result>
					<t:resource path="/res-file.txt">
						<t:params>
							<key1>val1</key1>
						</t:params>
					</t:resource>
				</result>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<result>This is simple content with param-value=val1 and context-value=cval</result>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="resLoadingNoExpr">
		<context><![CDATA[
			<ckey1>cval</ckey1>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<result>
					<t:resource path="/res-file.txt" expressions="false">
						<t:params>
							<key1>val1</key1>
						</t:params>
					</t:resource>
				</result>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<result>This is simple content with param-value=${resParams.key1} and context-value=${ckey1}</result>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeResourceInMap">
		<context><![CDATA[
			<data>
				<ckey1>cval1</ckey1>
				<ckey2>cval2</ckey2>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<key1>@fmarker: data.ckey1</key1>
				<extra>
					<t:includeResource path="/include-res.xml"/>
				</extra>
				<key2>@fmarker: data.ckey2</key2>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<key1>cval1</key1>
				<extra skey1="cval1">
					<arr>1</arr>
					<arr>2</arr>
					<arr>3</arr>
				</extra>
				<key2>cval2</key2>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeWithReplace">
		<context><![CDATA[
			<data>
				<ckey1>cval1</ckey1>
				<ckey2>cval2</ckey2>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<key1>@fmarker: data.ckey1</key1>
				<t:replace>
					<t:includeResource path="/include-res.xml"/>
				</t:replace>
				<key2>@fmarker: data.ckey2</key2>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output skey1="cval1">
				<key1>cval1</key1>
				<arr>1</arr>
				<arr>2</arr>
				<arr>3</arr>
				<key2>cval2</key2>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeWithReplaceAndCond">
		<context><![CDATA[
			<data>
				<ckey1>cval1</ckey1>
				<ckey2>cval2</ckey2>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<key1>@fmarker: data.ckey1</key1>
				<t:replace t:condition="data.ckey1 == 'diffValue'">
					<t:includeResource path="/include-res.xml"/>
				</t:replace>
				<t:replace t:condition="data.ckey1 == 'cval1'">
					<t:includeResource path="/include-res2.xml">
						<t:params>
							<paramKey1>paramValue</paramKey1>
						</t:params>
					</t:includeResource>
				</t:replace>
				<key2>@fmarker: data.ckey2</key2>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<key1>cval1</key1>
				<skey2>fromRes2</skey2>
				<arr2>1</arr2>
				<arr2>2</arr2>
				<arr2>3</arr2>
				<pkey>paramValue</pkey>
				<key2>cval2</key2>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeResourceInArray">
		<context><![CDATA[
			<data>
				<ckey1>cval1</ckey1>
				<ckey2>cval2</ckey2>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<item>1</item>
				<item>
					<t:includeResource path="/include-res.xml"/>
				</item>
				<item>
					<k1>v1</k1>
				</item>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<item>1</item>
				<item>
					<skey1>cval1</skey1>
					<arr>1</arr>
					<arr>2</arr>
					<arr>3</arr>
				</item>
				<item>
					<k1>v1</k1>
				</item>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeFile">
		<context><![CDATA[
			<data>
				<ckey1>cval1</ckey1>
				<ckey2>cval2</ckey2>
			</data>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<key1>@fmarker: data.ckey1</key1>
				<extra>
					<t:includeFile path="./src/test/resources/include-file.xml"/>
				</extra>
				<key2>@fmarker: data.ckey2</key2>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<key1>cval1</key1>
				<extra>
					<item>cval1</item>
					<item>1</item>
					<item>2</item>
				</extra>
				<key2>cval2</key2>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="includeRecursively">
		<context><![CDATA[
			<ckey1>cval1</ckey1>
		]]></context>

		<template><![CDATA[
			<output xmlns:t="/transform">
				<mainMap>
					<t:includeResource path="/include-recursive.xml">
						<t:params>
							<value>@fmarker: 3</value>
						</t:params>
					</t:includeResource>
				</mainMap>
				<ckey1>@fmarker: ckey1</ckey1>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output>
				<mainMap>
					<smap>
						<smap>
							<finalValue>2</finalValue>
						</smap>
						<finalValue>4</finalValue>
					</smap>
					<finalValue>6</finalValue>
				</mainMap>
				<ckey1>cval1</ckey1>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchBasic">
		<context><![CDATA[
			<data>
				<a>50</a>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<number>
					<t:switch>
						<t:case>
							<t:condition>toInt(data.a) lt 0</t:condition>
							<t:value>Negative Number</t:value>
						</t:case>
						<t:case>
							<t:condition>toInt(data.a) gt 100</t:condition>
							<t:value>Invalid Number</t:value>
						</t:case>
						<t:case>
							<t:value>@fmarker: toInt(data.a) * 100</t:value>
						</t:case>
					</t:switch>
				</number>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<number>5000</number>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchNegativeCase">
		<context><![CDATA[
			<data>
				<a>-10</a>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<number>
					<t:switch>
						<t:case t:condition="toInt(data.a) lt 0" t:value="Negative Number"/>
						<t:case t:condition="toInt(data.a) gt 100" t:value="Invalid Number"/>
						<t:case t:value="@fmarker: toInt(data.a) * 100"/>
					</t:switch>
				</number>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<number>Negative Number</number>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchInvalidCase">
		<context><![CDATA[
			<data>
				<a>150</a>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<number>
					<t:switch>
						<t:case t:condition="toInt(data.a) lt 0" t:value="Negative Number"/>
						<t:case t:condition="toInt(data.a) gt 100" t:value="Invalid Number"/>
						<t:case t:value="@fmarker: toInt(data.a) * 100"/>
					</t:switch>
				</number>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<number>Invalid Number</number>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithStringValues">
		<context><![CDATA[
			<data>
				<status>active</status>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<message>
					<t:switch>
						<t:case>
							<t:condition>data.status == 'active'</t:condition>
							<t:value>User is active</t:value>
						</t:case>
						<t:case>
							<t:condition>data.status == 'inactive'</t:condition>
							<t:value>User is inactive</t:value>
						</t:case>
						<t:case>
							<t:value>Unknown status: ${data.status}</t:value>
						</t:case>
					</t:switch>
				</message>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<message>User is active</message>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithDefaultCase">
		<context><![CDATA[
			<data>
				<status>pending</status>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<message>
					<t:switch>
						<t:case>
							<t:condition>data.status == 'active'</t:condition>
							<t:value>User is active</t:value>
						</t:case>
						<t:case>
							<t:condition>data.status == 'inactive'</t:condition>
							<t:value>User is inactive</t:value>
						</t:case>
						<t:case>
							<t:value>Unknown status: ${data.status}</t:value>
						</t:case>
					</t:switch>
				</message>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<message>Unknown status: pending</message>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithComplexExpressions">
		<context><![CDATA[
			<data>
				<score>85</score>
				<bonus>10</bonus>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<grade>
					<t:switch>
						<t:case t:condition="toInt(data.score) gte 90" t:value="A"/>
						<t:case t:condition="toInt(data.score) gte 80" t:value="B"/>
						<t:case t:condition="toInt(data.score) gte 70" t:value="C"/>
						<t:case t:value="F"/>
					</t:switch>
				</grade>
				<totalScore>
					<t:switch>
						<t:case t:condition="toInt(data.score) + toInt(data.bonus) gt 100" t:value="@fmarker: data.score + data.bonus"/>
						<t:case t:value="@fmarker: data.score"/>
					</t:switch>
				</totalScore>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<grade>B</grade>
				<totalScore>85</totalScore>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithNullValue">
		<context><![CDATA[
			<data>
				<flag>true</flag>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<result>
					<t:switch>
						<t:case t:condition="toBoolean(data.flag)" t:value="@fmarker: nullValue()"/>
						<t:case t:value="default"/>
					</t:switch>
				</result>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithNestedObjects">
		<context><![CDATA[
			<data>
				<user>
					<age>25</age>
					<premium>true</premium>
				</user>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<category>
					<t:switch>
						<t:case>
							<t:condition>toInt(data.user.age) lt 18</t:condition>
							<t:value>Minor</t:value>
						</t:case>
						<t:case>
							<t:condition>toInt(data.user.age) gte 18 &amp;&amp; toBoolean(data.user.premium)</t:condition>
							<t:value>Premium Adult</t:value>
						</t:case>
						<t:case>
							<t:condition>toInt(data.user.age) gte 18</t:condition>
							<t:value>Adult</t:value>
						</t:case>
						<t:case>
							<t:value>Unknown: ${data.user.age}</t:value>
						</t:case>
					</t:switch>
				</category>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<category>Premium Adult</category>
			</output>
		]]></expectedResult>
	</jel-test-bean>

	<jel-test-bean name="switchWithMapValue">
		<context><![CDATA[
			<data>
				<type>admin</type>
			</data>
		]]></context>
		<template><![CDATA[
			<output xmlns:t="/transform">
				<permissions>
					<t:switch>
						<t:case t:condition="data.type == 'admin'">
							<t:value>
								<read>true</read>
								<write>true</write>
								<delete>true</delete>
							</t:value>
						</t:case>
						<t:case t:condition="data.type == 'user'">
							<t:value>
								<read>true</read>
								<write>true</write>
								<delete>false</delete>
							</t:value>
						</t:case>
						<t:case>
							<t:value>
								<read>true</read>
								<write>false</write>
								<delete>false</delete>
							</t:value>
						</t:case>
					</t:switch>
				</permissions>
			</output>
		]]></template>
		<expectedResult><![CDATA[
			<output xmlns:t="/transform">
				<permissions>
					<read>true</read>
					<write>true</write>
					<delete>true</delete>
				</permissions>
			</output>
		]]></expectedResult>
	</jel-test-bean>
</test-data>