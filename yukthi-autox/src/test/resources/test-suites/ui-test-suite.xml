<testData xmlns:ccg="/fw/ccg/XMLBeanParser" xmlns:wrap="/fw/ccg/XMLBeanParser/wrap">
	<testSuite name="ui-test-suites">
		<testCase name="button_Click">
			<description>Validates button click action is working</description>
			
			<wrap:steps>
				<ccg:ui-goto-page uri="/index.html" />
				<ccg:ui-is-visible locator="id: testLayer" name="visibFlag1"/>
				
				<ccg:ui-click locator="id: button"/>
				<ccg:sleep time="1000"/>
				
				<ccg:ui-log-screen-shot name="test.png" />
				
				<ccg:ui-is-visible locator="id: testLayer" name="visibFlag2"/>
				<ccg:ui-get-value locator="xpath: //input[@name='statusFld']" name="fldValue"/>
			</wrap:steps>
	
			<wrap:validations>
				<ccg:ui-assert-value locator="xpath: //input[@name='statusFld']" value="button Clicked"/>

				<ccg:assert-false value="attr: visibFlag1"/>
				<ccg:assert-true value="attr: visibFlag2"/>
				<ccg:assert-equals actual="attr: fldValue" expected="button Clicked"/>
			</wrap:validations>
		</testCase>

		<testCase name="fillForm">
			<description>Validates form filling is working</description>
			
			<ccg:ui-goto-page uri="/form.html" />

			<ccg:ui-fill-form locator="id:sampleForm">
				<data>
					{
						"name": "kranthi",
						"id:genderDropDown": "male",
						"address": "line1\nline2",
						"color": ["red", "green", "blue"]
					}
				</data>
			</ccg:ui-fill-form>
			
			<ccg:ui-log-screen-shot name="filledForm.png" />
							
			<ccg:ui-assert-value locator="xpath: //input[@name='name']" value="kranthi"/>
		</testCase>

		<testCase name="uiGetElements">
			<description>Validates get elements is working</description>
			
			<ccg:ui-goto-page uri="/form.html" />
			
			<ccg:ui-get-elements locator="xpath: //input[@type='checkbox']" name="checkBoxes"/>
			
			<ccg:set expression="values" value=""/>
			
			<ccg:forEach expression="attr.checkBoxes" loopVar="cbox">
				<ccg:set expression="values" value="${attr.values},${uiElemAttr('value', attr.cbox, null)}"/>
			</ccg:forEach>

			<ccg:assert-equals actual="attr: values" expected=",red,green,blue,yellow,orange"/>
		</testCase>

		<testCase name="uiMethods">
			<description>Validates functionality of free marker methods</description>
			
			<ccg:ui-goto-page uri="/form.html" />
			
			<ccg:set expression="result" value="false"/>
			<ccg:set expression="locator" value="string: xpath: //input[@type='checkbox']"/>
			
			<ccg:assert-true value="condition: uiIsVisible(attr.locator, null)"/>
		</testCase>

		<testCase name="testDownload">
			<description>Validates download functionality</description>
			
			<ccg:ui-goto-page uri="/form.html" />
			
			<ccg:ui-clickAndDownload locator="id: downloadLink" pathName="filePath"/>
						
			<ccg:validateFileExists path="${attr.filePath}"/>
		</testCase>

		<testCase name="testOpenWindow">
			<description>Validates download functionality</description>
			
			<ccg:ui-goto-page uri="/form.html" />
			<ccg:ui-open-window url="/index.html" name="Index"/>
			<ccg:ui-is-visible locator="id: button" name="visibFlag1"/>
			
			<ccg:sleep time="5000"/>
			
			<!-- Ensure switch windows is working fine -->
			<ccg:ui-switch-window />
			<ccg:ui-assert-visibility locator="id: downloadLink"/>
			<ccg:sleep time="5000"/>
			
			<ccg:ui-switch-window locator="Index"/>
			<ccg:ui-is-visible locator="id: button" name="visibFlag1"/>
			<ccg:ui-close-window />
			<ccg:sleep time="5000"/>

			<ccg:assert-true value="attr: visibFlag1"/>
		</testCase>

		<cleanup>
			<ccg:ui-quit-session/>
		</cleanup>
	</testSuite>
	
</testData>