<testData xmlns:s="http://autox.yukthitech.com/steps" 
		xmlns:wrap="http://xmlbeanparser.yukthitech.com/wrap" 
		xmlns:f="http://autox.yukthitech.com/functions">
		
	<testSuite name="testSuiteBeforeTcFail">
		<setup>
			<s:log message="Test suite setup: testSuiteBeforeTcFail"/>
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="testSuiteSetup"/>
		</setup>
		
		<before-test-case>
			<s:log message="Before test case: testSuiteBeforeTcFail"/>
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="beforeTestCase"/>
			
			<s:log message="Got flag as: ${attr.testSuiteFlags.beforeTcFirstTime!'null'}"/>
			
			<s:if condition="ifFalse(attr.testSuiteFlags.beforeTcFirstTime)">
				<s:set expression="prop: attr.testSuiteFlags.beforeTcFirstTime" value="true"/> 
				<s:throw message="Failing test case"/>
			</s:if>
		</before-test-case>
		
		<after-test-case>
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="afterTestCase"/>
		</after-test-case>

		<testCase name="tc1">
			<description>
				This test case is not suppose to execute
			</description>
			
			<setup>
				<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc1Setup"/>
			</setup>
			
			<s:log message="test case- tc1"/>
			
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc1"/>
			
			<cleanup>
				<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc1Cleanup"/>
			</cleanup>
		</testCase>

		<testCase name="tc2">
			<description>
				This test case is not suppose to execute
			</description>
			
			<setup>
				<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc2Setup"/>
			</setup>
			
			<s:log message="test case- tc2"/>
			
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc2"/>
			
			<cleanup>
				<s:collection-add collection="attr: testSuiteBeforeTcFail" value="tc2Cleanup"/>
			</cleanup>
		</testCase>

		<cleanup>
			<s:log message="Cleanup of testSuiteBeforeTcFail"/>
			<s:collection-add collection="attr: testSuiteBeforeTcFail" value="testSuiteCleanup"/>
		</cleanup>
	</testSuite>

</testData>